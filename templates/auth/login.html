{% extends 'base.html' %}
{% load i18n %}

{% block sub_title %}
    登录
{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="/static/schema/default/css/auth/login.css">
{% endblock %}

{% block extra_script %}
    <script src="/static/lib/validate.js"></script>
    <script src="/static/js/auth/login.js"></script>
{% endblock %}

{% block main %}
    <div class="container" id="notice_messages">
        <span style="display: none;">有这个玩意主要是因为在IE8下，如果一开始为空，导致 第一次append(html)时，还是不显示任何东西</span>
        {% for message in messages %}
        <div class="alert alert-{{ message.tags }}" data-alert="alert">
            <a class="close" href="#" onclick="$(this).parent().fadeOut('fast'); return false;">×</a>{{ message }}
        </div>
        {% endfor %}
    </div>
    <div class="container">
        <form id="login-form" class="form-signin" action="{% url 'login_action' %}" method="post" >
            {% csrf_token %}
            <h2 class="form-signin-heading">请登录</h2>
            <input class="form-control" name="username" validation="required" placeholder="用户名" type="text" >
            <input class="form-control" name="passwd" validation="required" placeholder="口令" type="password" >
            <button type="submit" class="btn btn-lg btn-primary btn-block">登录</button>
        </form>
    </div>
{% endblock %}